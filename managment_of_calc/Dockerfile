FROM ubuntu:16.04 #Базовый образ – ubuntu:16.04

ARG UID=1000
#Владельцем файла на хосте назначается пользователь с uid=1000, 
# если при сборке useradd -u $UID stepik не указываются дополнительные аргументы, или пользователь с uid, который был задан аргументом UID при сборке

#Именно этот пользователь (uid=1000/uid=UID) должен быть основным в контейнере.
RUN apt-get update && apt-get install nano && useradd -u $UID stepik
#Установлен текстовый редактор nano
ENV EDITOR=nano
USER stepik
VOLUME /home/stepik
WORKDIR /home/stepik
#В качестве рабочей директории установлен каталог /home/stepik
ENTRYPOINT ["bash", "-c", "nano"]
#При запуске контейнера открывается nano, файл автоматически сохраняется 
#в файловую систему хоста, даже если при запуске опции монтирования не указаны 
#(при отсутствии опции монтирования путь, по кторому сохраняется файл, не играет роли, 
#важно, чтобы файл в конечном счете оказался на хосте)